{% extends "base.html" %}

{% block content %}
{% for author in authors %}
    <div class="card">
        <div class="card-body">
            <a href="{{ url_for('author', id=author.uuid) }}">{{ author.first_name}} {{ author.last_name }}</a>
            {% if author.orcid %}
                <a href="{{ author.orcid }}">
                <img alt="ORCID logo" src="https://info.orcid.org/wp-content/uploads/2019/11/orcid_16x16.png" width="16" height="16" /></a>
            {% endif %}
            {% if author.affiliations %}
                    {% for value in author.affiliations %}
                        <span class="badge bg-primary">{{ value.name }}</span>
                    {% endfor %}
            {% endif %}
            {% if author.workstreams %}
                {% for value in author.workstreams %}
                    <span class="badge bg-secondary">{{ value.name }}</span>
                {% endfor %}
            {% endif %}
        </div>
    </div>
    {% endfor %}

    <div class="row">
        <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-center">
            {% if not skip == 0%}
            <li class="page-item"><a class="page-link" href="?limit={{limit}}&skip={{skip - limit}}">Previous</a></li>
            {% endif %}

            {% if count %}
            {% for page in range((count // limit) + 1) %}
                {% set skipper = (page) * limit %}
                {% if skipper == skip %}
                    <li class="page-item"><a class="page-link active" href="?limit={{limit}}&skip={{skipper}}">{{ page + 1 }}</a></li>
                {% else %}
                    <li class="page-item"><a class="page-link" href="?limit={{limit}}&skip={{skipper}}">{{ page + 1 }}</a></li>
                {% endif%}
            {% endfor %}

            {% if not skip >= count - limit %}
            <li class="page-item"><a class="page-link" href="?limit={{limit}}&skip={{skip + limit}}">Next</a></li>
            {% endif %}
            {% endif %}
        </ul>
        </nav>
    </div>

{% endblock %}